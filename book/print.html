<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>IgKnite</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="setup.html"><strong aria-hidden="true">2.</strong> Setup</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="setup_add_to_server.html"><strong aria-hidden="true">2.1.</strong> Adding to Server</a></li><li class="chapter-item expanded "><a href="setup_next_steps.html"><strong aria-hidden="true">2.2.</strong> Next steps</a></li></ol></li><li class="chapter-item expanded "><a href="hosting.html"><strong aria-hidden="true">3.</strong> Hosting</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="hosting_preparation.html"><strong aria-hidden="true">3.1.</strong> Preparation</a></li><li class="chapter-item expanded "><a href="hosting_docker.html"><strong aria-hidden="true">3.2.</strong> The Docker Way</a></li><li class="chapter-item expanded "><a href="hosting_manual.html"><strong aria-hidden="true">3.3.</strong> The Manual Way</a></li></ol></li><li class="chapter-item expanded "><a href="development.html"><strong aria-hidden="true">4.</strong> Development Setup</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="development_command.html"><strong aria-hidden="true">4.1.</strong> Adding commands</a></li></ol></li><li class="chapter-item expanded "><a href="reference.html"><strong aria-hidden="true">5.</strong> Command Reference</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">IgKnite</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/IgKniteDev/docs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<h2 id="what-is-a-bot"><a class="header" href="#what-is-a-bot">What is a bot?</a></h2>
<p>IgKnite, like many other Discord applications, is a <strong>bot.</strong> Being a bot on Discord mostly means using the endpoints provided by it via its API (Application Programming Interface) to do some action. There are tons of options to choose from, in this case. <a href="https://mee6.xyz"><strong>MEE6</strong></a>, <a href="https://fredboat.com"><strong>Fredboat</strong></a>, <a href="https://poketwo.net"><strong>PokeTwo</strong></a> - these are some of the most popular bots that you can access.</p>
<br>
<h2 id="why-igknite"><a class="header" href="#why-igknite">Why IgKnite?</a></h2>
<p>IgKnite, unlike most other Discord bots, is <strong>open-source</strong>, meaning that all of the aspects of it is open to and maintained by, (yes you guessed it) the community!</p>
<p>IgKnite is also built on top off Discord's bleeding-edge API changes including <strong>slash commands</strong>, resulting in an interaction method that doesn't include text commands at all. This also means that you will never have the hassle to type in a prefix and then making sure that your command is written perfectly. IgKnite also contains interaction methods like message / user commands which, for most of the time, do not even require you to type anything!</p>
<br>
<h2 id="why-this-guide"><a class="header" href="#why-this-guide">Why this guide?</a></h2>
<p>While the README.md file might not be enough to guide you through the setup phase and the different use cases of IgKnite, this documentation can help you in the initial run. It contains all the necessary information to:</p>
<ul>
<li>Add IgKnite to your Discord server</li>
<li>Self-host the project on your own machine</li>
<li>Learn about how things are operated under the hood</li>
</ul>
<br>
<p>We hope that you will have a lot of fun using IgKnite and that's why we'll leave the post-documentation stuff to you. After all, exploration is a lot more enjoyable than reading.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setup"><a class="header" href="#setup">Setup</a></h1>
<p>This documentation chapter describes how to add IgKnite to your Discord server using two different authentication methods. It also explains how permissions are handled to later lock specific commands within IgKnite so that you can fully utilize the project's power!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="adding-to-your-discord-server"><a class="header" href="#adding-to-your-discord-server">Adding to your Discord Server</a></h1>
<p>The very first, and the very basic, step of using IgKnite is to add it to your precious Discord servers. Traditionally, most of the Discord bots that we see today are hosted already by their corresponding maintainers, and IgKnite is no exception too. <br></p>
<h2 id="method-1-the-link"><a class="header" href="#method-1-the-link">Method 1: The Link</a></h2>
<p>This method has been on Discord for a while now, and involves <a href="https://en.wikipedia.org/wiki/OAuth">OAuth</a> URLs.</p>
<ul>
<li>
<p>If you head over to <a href="https://igknitedev.github.io/">IgKnite's official website</a>, you will see a button labelled <strong>'Inject'</strong> (that is what we call it here; fancy, right?) Simply click it and you will be redirected to one of Discord's child websites which will allow you to add IgKnite to your Discord server. </p>
</li>
<li>
<p>Or, you can just <a href="https://discord.com/api/oauth2/authorize?client_id=1016637486702792735&amp;permissions=1505385246135&amp;scope=bot%20applications.commands">click here</a> without going to the website to do the same. <br></p>
</li>
</ul>
<h2 id="method-2-the-profile"><a class="header" href="#method-2-the-profile">Method 2: The Profile</a></h2>
<p>This method, unlike the previous one, is new and uses Discord's <a href="">In-App Authorization</a> feature. </p>
<ol>
<li>
<p>If you have a friend who has IgKnite 'injected' in their Discord server, then you can head over to that server and click on IgKnite's avatar to toggle its profile view.</p>
</li>
<li>
<p>See a large blue button saying <strong>'Add to Server'</strong>? Click it and you will be prompted to choose which server you would like to have IgKnite. Note that you might also be asked for an authentication code if you have 2FA enabled in your Discord account.</p>
</li>
<li>
<p>Click on '<strong>Continue</strong>'. At this stage, you will see a bunch of ticked options. These represent the global permissions which allow IgKnite to run properly (don't untick any of them, otherwise you might see errors popping in once you start using the bot).</p>
</li>
<li>
<p>Finally, fill in the CAPTCHA requirements to add IgKnite to your Discord server.</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="next-steps"><a class="header" href="#next-steps">Next steps</a></h1>
<p>Once you've added IgKnite to your Discord server, we can continue on with the setup process. <br></p>
<h2 id="role-locking"><a class="header" href="#role-locking">Role-locking</a></h2>
<p>Most moderation Discord bots lock certain features to certain individuals, roles or permission overrides. IgKnite currently handles permissions using roles, and to be precise, you'll have to create two roles:</p>
<ul>
<li><code>BotMod</code> - For moderators.</li>
<li><code>BotAdmin</code> - For administratiors.</li>
</ul>
<p>These two roles will help unlock and trigger certain moderation commands for the people you choose to give these roles to. Make sure to carefully select and append the roles. IgKnite doesn't really need much more setup than this! <br></p>
<h2 id="using-the-commands"><a class="header" href="#using-the-commands">Using the commands</a></h2>
<p>This step is quite familiar to those who are already using Discord bots with slash commands out there. But for those who still don't know, you will need only one prefix key to access all the slash commands for the bots on your server. </p>
<ul>
<li>Simply press <code>/</code> and you'll be greeted with a selection menu on top of your text box.</li>
<li>Choose a command and fill in the options accordingly.</li>
<li>Enter!</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hosting"><a class="header" href="#hosting">Hosting</a></h1>
<p>This chapter describes how to host IgKnite on your own machine. It covers everything from creating project credentials to experimenting with two different ways to run IgKnite!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="preparation"><a class="header" href="#preparation">Preparation</a></h1>
<h2 id="cloning-the-repository"><a class="header" href="#cloning-the-repository">Cloning the repository</a></h2>
<p>Before we continue on with the upcoming procedures, let's make sure we actually have IgKnite downloaded on the machine of your choice.</p>
<p>In order to clone IgKnite directly from <a href="https://github.com/">GitHub</a>, make sure you have <a href="https://www.git-scm.com">Git</a> installed. Then, run the following command:</p>
<pre><code class="language-bash"># using HTTPS
$ git clone https://github.com/IgKniteDev/IgKnite.git

# using SSH
$ git clone git@github.com:IgKniteDev/IgKnite.git

# using the GitHub CLI
$ gh repo clone IgKniteDev/IgKnite
</code></pre>
<p>As you can see, there are actually three different commands for you to choose from. This is typically provided by GitHub right at the repository home page, but we've written it here so you don't have to search :P <br></p>
<h2 id="creating-the-bot"><a class="header" href="#creating-the-bot">Creating the bot</a></h2>
<p>Like actual human DIscord accounts, bots also need to be created in a rather fancy manner. If you have created Discord bots previously then this step might be familiar. If not, don't worry, that's what the documentation is for!</p>
<p>If you'd like to get into more detail about this topic, kindly check out <a href="">this article from Discord</a> which explores how to create, add and manage a Discord bot from scratch. But if you're more impatient, you can follow along the short path given below. Note that this might get a little misleading for some people:</p>
<ul>
<li>Navigate to <a href="https://discord.com/developers">Discord Developer Portal</a>.</li>
<li>Create a new application.</li>
<li>Choose <strong>Bots</strong> from the sidebar and enable it.</li>
</ul>
<p>That's it! You now have a new Discord bot; ready to be online. <br></p>
<p>But this bot is still not in your server. In order to add the bot to your personal Discord server or have a friend use it:</p>
<ul>
<li>
<p>Choose <strong>OAuth2</strong> from the sidebar and choose <strong>URL Generator</strong>.</p>
</li>
<li>
<p>Click on <code>bot</code> and <code>application.commands</code> from the scopes view.</p>
</li>
<li>
<p>Make sure you have these permissions ticked:</p>
  <img src='static/permissions.png' alt='Permissions'>
</li>
<li>
<p>Copy the link generated below and open it in a new tab.</p>
</li>
<li>
<p>Choose your server, fill in the CAPTCHA and voila! <br></p>
</li>
</ul>
<h2 id="getting-the-files-ready"><a class="header" href="#getting-the-files-ready">Getting the files ready</a></h2>
<p>If you've followed the preparation step given right at the start of this chapter, you should already have IgKnite cloned onto your computer. Let's open the downloaded folder using:</p>
<pre><code class="language-bash"># Open and list all the files.
$ cd IgKnite &amp;&amp; ls
</code></pre>
<p>You'll see a bunch of file names appearing on your terminal. One of them is <code>.env.sample</code> and your very first steps will be to:</p>
<ul>
<li>Rename <code>.env.sample</code> to <code>.env</code> and save.</li>
<li>Open the renamed file with your favorite code editor.</li>
</ul>
<pre><code class="language-bash"># copying
$ cp .env.sample .env

# opening it within nano
$ nano .env
</code></pre>
<br>
<h2 id="knowing-the-secrets"><a class="header" href="#knowing-the-secrets">Knowing the secrets</a></h2>
<p>The file you just renamed and opened is the primary file where you'll be storing all the credentials and secrets. This is called a local environment file and we, as developers, see a ton of these every day. </p>
<p>We're assuming you're seeing something similar to this on your code editor:</p>
<pre><code>DISCORD_TOKEN=
DISCORD_OWNER_ID=
SPOTIFY_CLIENT_ID=
SPOTIFY_CLIENT_SECRET=
</code></pre>
<p>These are the four environment variables which are all mandatory for running IgKnite. Two of them can be obtained from the <a href="https://discord.com/developers">Discord Developer Portal</a> and the other two from <a href="https://developer.spotify.com/">Spotify for Developers</a> respectively. <br></p>
<h2 id="getting-the-environment-variables"><a class="header" href="#getting-the-environment-variables">Getting the environment variables</a></h2>
<p>Now we can actually go and fetch all the secrets we need. If you've previously created a Discord bot then you already know how to obtain the first two variables. If not, don't worry, that's what the documentation is for.</p>
<ul>
<li>Navigate to the <a href="https://discord.com/developers">Discord Developer Portal</a> web page.</li>
<li>Click on the application we had created previously.</li>
<li>Choose <strong>Bots</strong> from the sidebar. </li>
<li>Copy the token.</li>
<li>Paste it inside the <code>DISCORD_TOKEN</code> variable.</li>
</ul>
<p>That's one done! If you'd like to obtain the other environment variable originating from Discord, then that's pretty easy too. You'll just have to copy and paste the ID of your Discord account in the field.</p>
<p>Speaking of the variables related to Spotify, those are relatively easy to get as well. To get the rest of the required secrets:</p>
<ul>
<li>Navigate to the [Spotify for Developers] web page.</li>
<li>Choose <strong>Dashboard</strong> from the top bar and click on 'Create an App'.</li>
<li>Copy the <strong>Client ID</strong> from the app's window and paste it inside the <code>SPOTIFY_CLIENT_ID</code> variable.</li>
<li>Similarly, copy the <strong>Client Secret</strong> and paste it inside the <code>SPOTIFY_CLIENT_SECRETS</code> variable. <br></li>
</ul>
<p>That's basically it! Now we are fully ready to run IgKnite.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-docker-way"><a class="header" href="#the-docker-way">The Docker Way</a></h1>
<p>The first and easiest way of self-hosting IgKnite is by using <a href="https://docker.com/">Docker</a>. For those who don't know, Docker basically uses <strong>containers and images</strong> to virtualize an entire operating system within another. This way, you don't need to worry about your applications failing on other platforms if it works on your own machine. Interesting, right? <br></p>
<h2 id="getting-familiar"><a class="header" href="#getting-familiar">Getting familiar</a></h2>
<p>Previously, we ran a command to open and list all the files within IgKnite's directory. Let's run the command again in a new terminal window if you have closed the previous one:</p>
<pre><code class="language-bash"># Open and list all the files.
$ cd IgKnite &amp;&amp; ls
</code></pre>
<p>Notice something? Even if you don't, most Docker uses have already noticed a <code>Dockerfile</code> within the directory. This file works as a blueprint for building Docker images. <br></p>
<h2 id="preparing"><a class="header" href="#preparing">Preparing</a></h2>
<p>This time, your very first step will be to install <a href="https://docker.com/">Docker</a> onto your computer. If you are a developer or a DevOps engineer, there's a high probability that you already have it :P</p>
<p>Once installed, open it and follow along with the additional setup procedures thrown by the app. This would be a great time to learn about Docker by watching <a href="https://www.youtube.com/watch?v=gAkwW2tuIqE&amp;t=338s">this 100-seconds video</a> made by Fireship if you already don't use this awesome tool as a developer.</p>
<p>You'll also need <a href="https://docs.docker.com/compose/">Docker Compose</a> to run IgKnite. For Windows and macOS, it comes bundled with the original Docker package. However, you'll have to install it separately on Linux distributions. <br></p>
<h2 id="building"><a class="header" href="#building">Building</a></h2>
<p>Run the docker daemon and then type the following command in your terminal:</p>
<pre><code class="language-bash"># building the image
$ docker-compose build

# running it
$ docker-compose up

# list running containers
$ docker ps --all
</code></pre>
<h2 id="enjoy"><a class="header" href="#enjoy">Enjoy!</a></h2>
<p>You should now see logs appearing on your terminal window, eventually displaying the total number of shards and servers IgKnite is connected to. This means you've officially self-hosted IgKnite with Docker!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-manual-way"><a class="header" href="#the-manual-way">The Manual Way</a></h1>
<p>If you're not into <a href="https://docker.com/">Docker</a> or you'd like to set up IgKnite for coding on it, this is the perfect place to get your hands dirty and run IgKnite with full manual management on the dependencies. <br></p>
<h2 id="preparation-1"><a class="header" href="#preparation-1">Preparation</a></h2>
<p>Unlike the Docker setup method, this one requires a fair bit of dependencies to be installed beforehand.</p>
<ul>
<li>You will need a <a href="https://www.python.org/downloads/">Python</a> installation of <strong>version 3.10 or higher.</strong></li>
<li>You will need a native installation of <a href="https://www.python.org/downloads/">ffmpeg</a> for running music commands.</li>
</ul>
<p>For now we'll only set up these two, but later we'll install more using a package manager. <br></p>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<p>Let's navigate to the directory where IgKnite resides, using the previous command:</p>
<pre><code class="language-bash">$ cd IgKnite
</code></pre>
<p>Now that we're in, it's time to set up a <a href="">virtual environment</a> for Python. Since we don't want to get our hard drives dirty in the process of running the project, we'll use such environments to centralize all of the Python packages inside the directory. <br></p>
<p>We'll be using the <a href="">venv</a> shell script provided built-in with Python like this:</p>
<pre><code class="language-bash"># creating the environment
$ python3 -m venv ourenv

# activating it
$ source ourenv/bin/activate
</code></pre>
<p>The following command will create a new folder named <code>ourenv</code> within IgKnite's project directory. This folder will contain all of the packages and symlinks we need. <br></p>
<p>Once done, we can install the required Python packages using <a href="">pip</a>:</p>
<pre><code class="language-bash"># the -r flag specifies a file path
$ python3 -m pip install -r requirements.txt
</code></pre>
<br>
<h2 id="enjoy-1"><a class="header" href="#enjoy-1">Enjoy!</a></h2>
<p>This might take a while, but once all of the installation procedures are complete, we can finally run igKnite using this tiny command right here!</p>
<pre><code class="language-bash">$ python3 main.py
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development-setup"><a class="header" href="#development-setup">Development Setup</a></h1>
<p>For those who'd like to add new features to IgKnite using code, low-code or even non-code contributions, this is the perfect chapter to follow along. <br></p>
<h2 id="preparation-2"><a class="header" href="#preparation-2">Preparation</a></h2>
<p>The <a href="./hosting_preparation.html"><strong>preparation for hosting</strong></a> sub-chapter discusses the primary ways to self-host IgKnite on your local machine. Make sure to read and apply the contents of it properly and then continue reading towards the <a href="./hosting_manual.html"><strong>manual hosting</strong></a> sub-chapter as well to set up all of the necessary dependencies. <br></p>
<h2 id="code-style"><a class="header" href="#code-style">Code Style</a></h2>
<p>This project uses the <a href="https://flake8.pycqa.org">flake8</a> linter for Python and necessary configuration files have also been set up within the repository to support it. <a href="https://github.com/features/actions">GitHub Actions</a> workflows have been added as well to enforce development with it. </p>
<p>Setting up the linter is as easy as just running one command:</p>
<pre><code class="language-bash"># installation
$ python3 -m pip install flake8

# running
$ python3 -m flake8 .
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="adding-commands"><a class="header" href="#adding-commands">Adding commands</a></h1>
<p>Have an idea? Let's build it! <br></p>
<h2 id="note"><a class="header" href="#note">Note</a></h2>
<p>It's noteworthy that your contributions must follow the <a href="https://github.com/IgKniteDev/IgKnite/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a> included with the repository. Make sure to read it before creating any unnecessary changes within the code. We'd love to see your ideas come to life within IgKnite! <br></p>
<h2 id="the-steps"><a class="header" href="#the-steps">The Steps</a></h2>
<p>In order to add new commands to the project, you must follow through the three mandatory steps mentioned below: <br></p>
<h3 id="1-choosing-a-cog"><a class="header" href="#1-choosing-a-cog">1. Choosing a &quot;Cog&quot;</a></h3>
<p>On both <a href="https://github.com/Rapptz/discord.py">discord.py</a> and <a href="https://github.com/DisnakeDev/disnake">disnake</a>, categories of commands are referred to as &quot;cogs&quot;. There are six different cogs which come built-in with IgKnite located in the <strong>cogs</strong> subdirectory. Navigate to your chosen one and have a look at the source code before making any changes. <br></p>
<h3 id="2-creating-the-command"><a class="header" href="#2-creating-the-command">2. Creating the command</a></h3>
<p>Once you have decided which cog to add your command to, we can start writing some code now!</p>
<p>Discord has three types of commands:</p>
<ul>
<li><strong>Slash commands</strong> can be used by pressing <code>/</code> and then typing the command.</li>
<li><strong>User commands</strong> can be used by right-clicking on a user's avatar and then selecting 'Apps'.</li>
<li><strong>Message commands</strong> are similar to user commands but need you to click on a message instead of someone's avatar.</li>
</ul>
<p>Below is an example of a very basic slash command which greets a server member. You'll be using such syntax in most of your commands.</p>
<pre><code class="language-python">class SomeCog(commands.Cog):

...

	@commands.slash_command(
		name='greet',
		description='Greets a member!',
		options=[
			Option(
				'member',
				'Mention the server member.',
				OptionType.user, # disnake.OptionType
				required=True # not needed if False
			)
		],
		dm_permission=False # cannot be used in DMs
	)
	async def _greet(
		self,
		inter: disnake.CommandInteraction,
		member: disnake.Member
	) -&gt; None:
		await member.send(
			f'Hey there! Welcome to {inter.guild.name}.'
		)
</code></pre>
<br>
<p>On the other hand, you can also write code and deploy to all three types of commands at once! In the example given below, we've tried to make a ban command that uses the very same logic for deploying itself in three forms:</p>
<pre><code class="language-python"># Backend for ban-labelled commands.
# Do not use it within other commands unless really necessary.

async def _ban_backend(
	self,
	inter: disnake.CommandInteraction,
	member: disnake.Member,
	reason: str = 'No reason provided.'
) -&gt; None:
	await inter.guild.ban(
		member,
		reason=reason
	)
	await inter.send(f'Member **{member.display_name}** has been banned! Reason: {reason}')


# ban (slash)
@commands.slash_command(
	name='ban',
	description='Bans a member.',
	options=[
		Option(
			'member',
			'Mention the server member.',
			OptionType.user,
			required=True
		),
		Option(
			'reason',
			'Give a reason for the softban.',
			OptionType.string
		)
	],
	dm_permission=False
)
@commands.has_any_role(LockRoles.mod, LockRoles.admin)
async def _ban(
	self,
	inter: disnake.CommandInteraction,
	member: disnake.Member,
	reason: str = 'No reason provided.'
) -&gt; None:
	await self._ban_backend(inter, member, reason=reason)


# ban (user)
@commands.user_command(
	name='Ban',
	dm_permission=False
)
@commands.has_any_role(LockRoles.mod, LockRoles.admin)
async def _ban_user(
	self,
	inter: disnake.CommandInteraction,
	member: disnake.Member
) -&gt; None:
	await self._ban_backend(inter, member)


# ban (message)
@commands.message_command(
	name='Ban',
	dm_permission=False
)
@commands.has_any_role(LockRoles.mod, LockRoles.admin)
async def _ban_message(
	self,
	inter: disnake.CommandInteraction,
	message: disnake.Message
) -&gt; None:
	await self._ban_backend(inter, message.author)

...
</code></pre>
<br>
<h3 id="3-test-and-deploy"><a class="header" href="#3-test-and-deploy">3. Test and deploy</a></h3>
<p>Once you are done making your changes, push them to your fork and create a valid pull request. <a href="https://github.com/IgKniteDev/IgKnite/pull/36">Here's</a> an example pull request which you can have a look at to learn about the pattern.</p>
<p>The pull request must pass the given workflows (the ones mentioned earlier) and receive a green 'check' symbol to qualify for a merge. We hope you'll do your best to gain it!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-reference"><a class="header" href="#command-reference">Command Reference</a></h1>
<p>IgKnite currently has more than 40 available bot commands, roughly distributed among four categories. All the commands are built on Discord's bleeding edge API and use the latest features.</p>
<p>The following is a list of all the available commands (updated: October 31, 2022).</p>
<h2 id="the-customization-commands"><a class="header" href="#the-customization-commands">The Customization Commands</a></h2>
<h3 id="makerole-name"><a class="header" href="#makerole-name">/makerole [name]</a></h3>
<p>Creates a new server role with the specified <em>name</em> and <em>color</em>. Color is in hex.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>name</td><td>Yes</td><td></td></tr>
<tr><td>color</td><td>No</td><td>#000000</td></tr>
</tbody></table>
</div>
<h3 id="assignrole-member-role"><a class="header" href="#assignrole-member-role">/assignrole [member] [role]</a></h3>
<p>Assigns a server <em>role</em> to the specified <em>member</em>.</p>
<h3 id="removerole-role"><a class="header" href="#removerole-role">/removerole [role]</a></h3>
<p>Removes a <em>role</em> from the server.</p>
<h3 id="makeinvite-max_age-max_uses-reason"><a class="header" href="#makeinvite-max_age-max_uses-reason">/makeinvite [max_age] [max_uses] [reason]</a></h3>
<p>Creates an invitation link to the server with the specified parameters.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>max_age</td><td>No</td><td>0</td></tr>
<tr><td>max_uses</td><td>No</td><td>1</td></tr>
<tr><td>reason</td><td>No</td><td>No reason provided.</td></tr>
</tbody></table>
</div>
<h3 id="nick-member-nickname"><a class="header" href="#nick-member-nickname">/nick [member] [nickname]</a></h3>
<p>Changes the server <em>nickname</em> of the specified <em>member</em></p>
<h3 id="makechannel-name-category-topic"><a class="header" href="#makechannel-name-category-topic">/makechannel [name] [category] [topic]</a></h3>
<p>Creates a new channel in the server with the given <em>name</em>, inside the given <em>category</em>, and sets the given <em>topic</em> to it.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>name</td><td>Yes</td><td></td></tr>
<tr><td>category</td><td>No</td><td>None</td></tr>
<tr><td>topic</td><td>No</td><td>None</td></tr>
</tbody></table>
</div>
<h3 id="makevc-name-category"><a class="header" href="#makevc-name-category">/makevc [name] [category]</a></h3>
<p>Creates a new voice channel with the given <em>name</em> in the given <em>category</em>.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>name</td><td>Yes</td><td></td></tr>
<tr><td>category</td><td>No</td><td>None</td></tr>
</tbody></table>
</div>
<h3 id="makecategory-name"><a class="header" href="#makecategory-name">/makecategory [name]</a></h3>
<p>Creates a new channel category with the specified <em>name</em>.</p>
<h3 id="removechannel-channel"><a class="header" href="#removechannel-channel">/removechannel [channel]</a></h3>
<p>Deletes the given <em>channel</em> from the server.</p>
<h3 id="reset"><a class="header" href="#reset">/reset</a></h3>
<p>Deletes all the messages from the current channel.</p>
<h3 id="afkvc-channel-timeout"><a class="header" href="#afkvc-channel-timeout">/afkvc [channel] [timeout]</a></h3>
<p>Makes <em>channel</em> the AFK channel for the server.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>channel</td><td>No</td><td>afk-vc</td></tr>
<tr><td>timeout</td><td>No</td><td>5 mins</td></tr>
</tbody></table>
</div>
<h2 id="the-general-commands"><a class="header" href="#the-general-commands">The General Commands</a></h2>
<h3 id="avatar-member"><a class="header" href="#avatar-member">/avatar [member]</a></h3>
<p>Displays your avatar or the avatar of the server <em>member</em> given.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>member</td><td>No</td><td>You</td></tr>
</tbody></table>
</div>
<h3 id="ping"><a class="header" href="#ping">/ping</a></h3>
<p>Returns IgKnite's API response time, system latency, and uptime.</p>
<h2 id="the-moderation-commands"><a class="header" href="#the-moderation-commands">The Moderation Commands</a></h2>
<h3 id="ban-member-reason"><a class="header" href="#ban-member-reason">/ban [member] [reason]</a></h3>
<p>Bans the given server <em>member</em> for the given <em>reason</em>.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>member</td><td>Yes</td><td></td></tr>
<tr><td>reason</td><td>No</td><td>No reason provided</td></tr>
</tbody></table>
</div>
<h3 id="unban-member"><a class="header" href="#unban-member">/unban [member]</a></h3>
<p>Unbans the given <em>member</em> from the server.</p>
<h3 id="softban-member-reason"><a class="header" href="#softban-member-reason">/softban [member] [reason]</a></h3>
<p>Temporarily bans the given <em>member</em> to delete their messages.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>member</td><td>Yes</td><td></td></tr>
<tr><td>reason</td><td>No</td><td>No reason provided</td></tr>
</tbody></table>
</div>
<h3 id="kick-member-reason"><a class="header" href="#kick-member-reason">/kick [member] [reason]</a></h3>
<p>Kicks the given <em>member</em> from the server.</p>
<p><em>Note: Kicked members can join the server again, but banned members can't.</em></p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>member</td><td>Yes</td><td></td></tr>
<tr><td>reason</td><td>No</td><td>No reason provided</td></tr>
</tbody></table>
</div>
<h3 id="timeout-member-duration-reason"><a class="header" href="#timeout-member-duration-reason">/timeout [member] [duration] [reason]</a></h3>
<p>Timeouts the given <em>member</em>.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>member</td><td>Yes</td><td></td></tr>
<tr><td>duration</td><td>No</td><td>30 seconds</td></tr>
<tr><td>reason</td><td>No</td><td>No reason provided</td></tr>
</tbody></table>
</div>
<h3 id="purge-amount"><a class="header" href="#purge-amount">/purge [amount]</a></h3>
<p>Deletes the given <em>number/amount</em> of messages in the channel.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>amount</td><td>No</td><td>1</td></tr>
</tbody></table>
</div>
<h3 id="ripplepurge-member-amount"><a class="header" href="#ripplepurge-member-amount">/ripplepurge [member] [amount]</a></h3>
<p>Clears the messages sent by the given <em>member</em> if they fall in the given <em>index/amount</em>.</p>
<h3 id="snipe"><a class="header" href="#snipe">/snipe</a></h3>
<p>Recovers all the messages that were deleted/<em>sniped</em> in the last 25 seconds. <em>Neat, right?</em></p>
<h3 id="senddm-member-msg"><a class="header" href="#senddm-member-msg">/senddm [member] [msg]</a></h3>
<p>Sends a message to the specified member's DM.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>member</td><td>Yes</td><td>None</td></tr>
<tr><td>msg</td><td>Yes</td><td>None</td></tr>
</tbody></table>
</div>
<h3 id="pins"><a class="header" href="#pins">/pins</a></h3>
<p>Shows all the pins in the channel.</p>
<h3 id="clearpins"><a class="header" href="#clearpins">/clearpins</a></h3>
<p>Deletes/unpins all the pins in the channel.</p>
<h3 id="pin-member"><a class="header" href="#pin-member">/pin [member]</a></h3>
<p>Pins the last message by the mentioned <em>member</em>.</p>
<h3 id="banword-words"><a class="header" href="#banword-words">/banword [words]</a></h3>
<p>Bans the comma-separated <em>words</em>.</p>
<h3 id="clearbannedwords"><a class="header" href="#clearbannedwords">/clearbannedwords</a></h3>
<p>Clears the list of banned keywords added by me.</p>
<h3 id="slowmode-seconds"><a class="header" href="#slowmode-seconds">/slowmode [seconds]</a></h3>
<p>Enables slowmode in the channel and sets timeout to <em>seconds</em>. Set <code>0</code> in <em>seconds</em> to disable slowmode.</p>
<h2 id="the-inspection-commands"><a class="header" href="#the-inspection-commands">The Inspection Commands</a></h2>
<h3 id="guildinfo"><a class="header" href="#guildinfo">/guildinfo</a></h3>
<p>Shows all important information about the server.</p>
<h3 id="userinfo-member"><a class="header" href="#userinfo-member">/userinfo [member]</a></h3>
<p>Shows all important information on a user.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>member</td><td>No</td><td>You</td></tr>
</tbody></table>
</div>
<h3 id="roleinfo-role"><a class="header" href="#roleinfo-role">/roleinfo [role]</a></h3>
<p>Shows all important information related to a specific role.</p>
<h3 id="membercount-sticky"><a class="header" href="#membercount-sticky">/membercount [sticky]</a></h3>
<p>Shows total number of members in channel and sidebar (if <em>sticky</em> is <code>True</code>).</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>sticky</td><td>No</td><td><code>False</code></td></tr>
</tbody></table>
</div>
<h2 id="the-music-commands"><a class="header" href="#the-music-commands">The Music Commands</a></h2>
<h3 id="play-keyword"><a class="header" href="#play-keyword">/play [keyword]</a></h3>
<p>Searches a soundtrack with the given <em>keyword</em> and adds it to the queue.</p>
<h3 id="playrich-member"><a class="header" href="#playrich-member">/playrich [member]</a></h3>
<p>Tries to enqueue a song from one's Spotify rich presence.</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th></tr></thead><tbody>
<tr><td>member</td><td>No</td><td>You</td></tr>
</tbody></table>
</div>
<h3 id="pause"><a class="header" href="#pause">/pause</a></h3>
<p>Pauses the currently playing song.</p>
<h3 id="resume"><a class="header" href="#resume">/resume</a></h3>
<p>Resumes the currently playing song.</p>
<h3 id="stop"><a class="header" href="#stop">/stop</a></h3>
<p>Stops playing the song and clears the queue.</p>
<h3 id="join"><a class="header" href="#join">/join</a></h3>
<p>Joins the VC you are in.</p>
<h3 id="leave"><a class="header" href="#leave">/leave</a></h3>
<p>Leaves the VC you are in (duh?).</p>
<h3 id="volume-volume"><a class="header" href="#volume-volume">/volume [volume]</a></h3>
<p>Sets the volume of the playing song. Just say <code>/volume 50</code>.</p>
<h3 id="now"><a class="header" href="#now">/now</a></h3>
<p>Displays an interactive control view for the current song.</p>
<h3 id="skip"><a class="header" href="#skip">/skip</a></h3>
<p>Vote to skip a song. The requester can automatically skip.</p>
<h3 id="queue"><a class="header" href="#queue">/queue</a></h3>
<p>Shows the player's queue.</p>
<h3 id="rmqueue-index"><a class="header" href="#rmqueue-index">/rmqueue [index]</a></h3>
<p>Removes a song from the queue at a given <em>index</em>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
